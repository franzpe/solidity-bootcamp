# Week 2 - Ballot contract interactions thorugh scripts

[Ballot - solidity by example](https://docs.soliditylang.org/en/v0.8.19/solidity-by-example.html)

## Report:

Contract was deployed on goerli testnet and it's address is **0xe4D17421F3da44C1D94F2881da879407977f0242**

```
Deploying Ballot contract
Proposals:
Proposal N. 1: proposal1
Proposal N. 2: proposal2
Proposal N. 3: proposal3
Deploying contract ...
The Ballot contract was deployed at the address 0xe4D17421F3da44C1D94F2881da879407977f0242
{
  deployTxReceipt: {
    to: null,
    from: '0x044D8f25B506CE1872008dAd807609B0C21Cb1BC',
    contractAddress: '0xe4D17421F3da44C1D94F2881da879407977f0242',
    transactionIndex: 97,
    gasUsed: BigNumber { value: "1128348" },
    logsBloom: '0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
    blockHash: '0x07ad74a7c4f4c0dea78022f8145dc474de2d912941d9d765ef345a43534f0560',
    transactionHash: '0xb94eceb54cb7ba883199cac5fcfd8473913d44697dbeec3c5e38adbfe643bd72',
    logs: [],
    blockNumber: 8547547,
    confirmations: 1,
    cumulativeGasUsed: BigNumber { value: "12773941" },
    effectiveGasPrice: BigNumber { value: "77845917755" },
    status: 1,
    type: 2,
    byzantium: true,
    events: []
  }
}
```

### Grant access to vote

For addresses **0x7ee2d338B038120a5b43a9755402A580fE06bFB9, 0x9b9538508B849476A9a3E82f15d3020D68d928b2, 0xA59b230b8f43C888F554F6b9207462fb8b9B2dE7, 0x4BaaD27a98D048295CC50509Fb99BC588926f368** was given the right to vote.

```
Connected to the wallet address 0x044D8f25B506CE1872008dAd807609B0C21Cb1BC
Right to vote was granted for 0x7ee2d338B038120a5b43a9755402A580fE06bFB9
{
  to: '0xe4D17421F3da44C1D94F2881da879407977f0242',
  from: '0x044D8f25B506CE1872008dAd807609B0C21Cb1BC',
  contractAddress: null,
  transactionIndex: 61,
  gasUsed: BigNumber { value: "48657" },
  logsBloom: '0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
  blockHash: '0xe7805724d8726e60e33feec2c6cc1ad053a251241b688f416c21f7e43d013705',
  transactionHash: '0x2c1f870f3b8eff7ee1c99b0039f2c2553cdfa4932b5fa66ef28ec73552035246',
  logs: [],
  blockNumber: 8547947,
  confirmations: 1,
  cumulativeGasUsed: BigNumber { value: "6923463" },
  effectiveGasPrice: BigNumber { value: "52140821532" },
  status: 1,
  type: 2,
  byzantium: true,
  events: []
}

Function: giveRightToVote(address toVoter)

MethodID: 0x9e7b8d61
[0]:  0000000000000000000000007ee2d338b038120a5b43a9755402a580fe06bfb9

Connected to the wallet address 0x044D8f25B506CE1872008dAd807609B0C21Cb1BC
Right to vote was granted for 0xA59b230b8f43C888F554F6b9207462fb8b9B2dE7
{
  to: '0xe4D17421F3da44C1D94F2881da879407977f0242',
  from: '0x044D8f25B506CE1872008dAd807609B0C21Cb1BC',
  contractAddress: null,
  transactionIndex: 12,
  gasUsed: BigNumber { value: "48657" },
  logsBloom: '0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
  blockHash: '0x89dd65afcd4cd82de86e9eab04c5326f5518b968c0ba299850fcc6824370c385',
  transactionHash: '0x117920f3bf5d508c732fec30ca5b923df38ff8e0c47d1234b8999caf4ddf9be2',
  logs: [],
  blockNumber: 8561185,
  confirmations: 1,
  cumulativeGasUsed: BigNumber { value: "1825704" },
  effectiveGasPrice: BigNumber { value: "3893195336" },
  status: 1,
  type: 2,
  byzantium: true,
  events: []
}

Connected to the wallet address 0x044D8f25B506CE1872008dAd807609B0C21Cb1BC
Right to vote was granted for 0x9b9538508B849476A9a3E82f15d3020D68d928b2
{
  to: '0xe4D17421F3da44C1D94F2881da879407977f0242',
  from: '0x044D8f25B506CE1872008dAd807609B0C21Cb1BC',
  contractAddress: null,
  transactionIndex: 36,
  gasUsed: BigNumber { value: "48657" },
  logsBloom: '0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
  blockHash: '0x776d332a85552fb9b5ecb4ee4779417185a727a7935b44a3471e65c57454cc22',
  transactionHash: '0x0d2bc7c55e40f114ec06ab30f5fec7459a5f1dcb8ecf155047764feb4c752f9f',
  logs: [],
  blockNumber: 8561187,
  confirmations: 1,
  cumulativeGasUsed: BigNumber { value: "3481926" },
  effectiveGasPrice: BigNumber { value: "4204886348" },
  status: 1,
  type: 2,
  byzantium: true,
  events: []
}

Connected to the wallet address 0x044D8f25B506CE1872008dAd807609B0C21Cb1BC
Right to vote was granted for 0x4BaaD27a98D048295CC50509Fb99BC588926f368
{
  to: '0xe4D17421F3da44C1D94F2881da879407977f0242',
  from: '0x044D8f25B506CE1872008dAd807609B0C21Cb1BC',
  contractAddress: null,
  transactionIndex: 13,
  gasUsed: BigNumber { value: "48657" },
  logsBloom: '0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
  blockHash: '0xd3b9f0921c679869d1947c3fbe931471daf4024161684604c27bc4da60a7bdda',
  transactionHash: '0xb9c079b42fe99f012da60b02be0a8dc86dfaad547cb43dba5201be1e6403ee48',
  logs: [],
  blockNumber: 8561195,
  confirmations: 1,
  cumulativeGasUsed: BigNumber { value: "1704866" },
  effectiveGasPrice: BigNumber { value: "3595513347" },
  status: 1,
  type: 2,
  byzantium: true,
  events: []
}
```

### Cast vote transaction

Chairman's address casted a vote for "proposal2".

```
Connected to the wallet address 0x044D8f25B506CE1872008dAd807609B0C21Cb1BC
Cast vote for proposal num: 1
{
  to: '0xe4D17421F3da44C1D94F2881da879407977f0242',
  from: '0x044D8f25B506CE1872008dAd807609B0C21Cb1BC',
  contractAddress: null,
  transactionIndex: 41,
  gasUsed: BigNumber { _hex: '0x016af3', _isBigNumber: true },
  logsBloom: '0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
  blockHash: '0x92f075041b26532d4ca0223ab4eae3c436355d45286736e656eadcc5105566fa',
  transactionHash: '0xc46c2eb1f3082f6d228828a2e50d734ffbcbbf004881ca55e2b4198ce98bed9a',
  logs: [],
  blockNumber: 8561232,
  confirmations: 1,
  cumulativeGasUsed: BigNumber { _hex: '0xa0b13b', _isBigNumber: true },
  effectiveGasPrice: BigNumber { _hex: '0x9a9b0741', _isBigNumber: true },
  status: 1,
  type: 2,
  byzantium: true,
  events: []
}
```

### Delegate vote

Connected to the wallet address **0xA59b230b8f43C888F554F6b9207462fb8b9B2dE7**
Delegated vote to: **0x9b9538508B849476A9a3E82f15d3020D68d928b2**

```
{
  to: '0xe4D17421F3da44C1D94F2881da879407977f0242',
  from: '0xA59b230b8f43C888F554F6b9207462fb8b9B2dE7',
  contractAddress: null,
  transactionIndex: 26,
  gasUsed: BigNumber { _hex: '0xd688', _isBigNumber: true },
  logsBloom: '0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
  blockHash: '0xe50b87cb238676061f9f91297da3044d12239a4a7141b44fa1aa9ef8bad1e22d',
  transactionHash: '0x1ad1872a2b8dc17ca15334e13dffcc965045818383c40f79f3b31d2cfb5d2341',
  logs: [],
  blockNumber: 8561451,
  confirmations: 1,
  cumulativeGasUsed: BigNumber { _hex: '0x245ce3', _isBigNumber: true },
  effectiveGasPrice: BigNumber { _hex: '0x60614869', _isBigNumber: true },
  status: 1,
  type: 2,
  byzantium: true,
  events: []
}
```

### Vote using delegated address

Connected to the wallet address **0x9b9538508B849476A9a3E82f15d3020D68d928b2**
Cast vote for proposal num: 0

```
{
  to: '0xe4D17421F3da44C1D94F2881da879407977f0242',
  from: '0x9b9538508B849476A9a3E82f15d3020D68d928b2',
  contractAddress: null,
  transactionIndex: 44,
  gasUsed: BigNumber { _hex: '0x011d2b', _isBigNumber: true },
  logsBloom: '0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
  blockHash: '0x74259a5a037c8524d9cd9b7d3c14e15af389cb44343846e98ee95d7f5f421337',
  transactionHash: '0xbc971b088ae5f5518b6012a9ab3e72dc0ea9383167d80e9a2c8d8b9203e45020',
  logs: [],
  blockNumber: 8561484,
  confirmations: 1,
  cumulativeGasUsed: BigNumber { _hex: '0x801342', _isBigNumber: true },
  effectiveGasPrice: BigNumber { _hex: '0x5c88d23a', _isBigNumber: true },
  status: 1,
  type: 2,
  byzantium: true,
  events: []
}
```

### Reverted transaction for giveRights to vote when address != chairperson

```
reason: 'transaction failed',
code: 'CALL_EXCEPTION',
transactionHash: '0x55a58b8bad69f20e626d8bb907f1055becc962caf3b2ce7733fb0153cbce66fb',
{
  to: '0xe4D17421F3da44C1D94F2881da879407977f0242',
  from: '0xA59b230b8f43C888F554F6b9207462fb8b9B2dE7',
  contractAddress: null,
  transactionIndex: 127,
  gasUsed: BigNumber { value: "24381" },
  logsBloom: '0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
  blockHash: '0x6bb4de824107ddc82aab617acf0c06d1d28d5840ea1adce9a224aeea84c6d099',
  transactionHash: '0x55a58b8bad69f20e626d8bb907f1055becc962caf3b2ce7733fb0153cbce66fb',
  logs: [],
  blockNumber: 8560312,
  confirmations: 1,
  cumulativeGasUsed: BigNumber { value: "11651267" },
  effectiveGasPrice: BigNumber { value: "241081149937" },
  status: 0,
  type: 2,
  byzantium: true
}
```

### Reverted transaction when address has no rights to vote

```
Fail with error 'Has no right to vote'
reason: 'transaction failed',
code: 'CALL_EXCEPTION',
transactionHash: '0x1b09b82bf135a6d8bef68d049b07e2b7461ffd85d16584d3fb8f3cf704a495e7',
{
  to: '0xe4D17421F3da44C1D94F2881da879407977f0242',
  from: '0xA59b230b8f43C888F554F6b9207462fb8b9B2dE7',
  contractAddress: null,
  transactionIndex: 80,
  gasUsed: BigNumber { value: "24115" },
  logsBloom: '0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
  blockHash: '0x171f3c963e4afe5d34bc11b969643f22535dd604a91375a19560903de2cef4be',
  transactionHash: '0x1b09b82bf135a6d8bef68d049b07e2b7461ffd85d16584d3fb8f3cf704a495e7',
  logs: [],
  blockNumber: 8560390,
  confirmations: 1,
  cumulativeGasUsed: BigNumber { value: "8631075" },
  effectiveGasPrice: BigNumber { value: "174917412916" },
  status: 0,
  type: 2,
  byzantium: true
}
```

### Reverted transaction when address has no rights to vote

```
Fail with error 'You have no right to vote'
reason: 'transaction failed',
code: 'CALL_EXCEPTION',
transactionHash: '0x044180ce8bb6fe69090d7c1aef4df22b15ff05ba02dc4839eb23ca62035a311b',
{
    to: '0xe4D17421F3da44C1D94F2881da879407977f0242',
    from: '0xA59b230b8f43C888F554F6b9207462fb8b9B2dE7',
    contractAddress: null,
    transactionIndex: 82,
    gasUsed: BigNumber { _hex: '0x5f96', _isBigNumber: true },
    logsBloom: '0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000',
    blockHash: '0xd4da99eb8f063ae04154d84c3a1b44f927bb8d9580d25053ca9a0c42e5483d45',
    transactionHash: '0x044180ce8bb6fe69090d7c1aef4df22b15ff05ba02dc4839eb23ca62035a311b',
    logs: [],
    blockNumber: 8560417,
    confirmations: 1,
    cumulativeGasUsed: BigNumber { _hex: '0x902f40', _isBigNumber: true },
    effectiveGasPrice: BigNumber { _hex: '0x25d60db514', _isBigNumber: true },
    status: 0,
    type: 2,
    byzantium: true
  }
```

### Result

Winning proposal

```
The winner is: proposal1 (string), 0x70726f706f73616c310000000000000000000000000000000000000000000000 (bytes)
```
